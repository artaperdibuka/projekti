<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Lidhja me Boxicons për ikona -->
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <!-- Lidhja me SweetAlert për alertet me dizajn të bukur -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.all.min.js"></script>
    <!-- Lidhja me stilin CSS -->
    <link rel="stylesheet" href="style.css">
    <title>BookstoreBuzuku - Loyalty Card Page</title>
</head>

<body>

    <header class="header">
        <div class="flex">
            <!-- Logo dhe linku i faqes kryesore -->
            <a href="home.html" class="logo"><img src="img/logoo.png" height="65" width="230"></a>
            <nav class="navbar">
                <!-- Navigimi i faqeve të ndryshme -->
                <a href="home.html">Home</a>
                <a href="products.html">Products</a>
                <a href="order.html"> Order</a>
                <a href="events.html">Events</a>
                <a href="about.html">About us</a>
                <a href="contact.html">Contact</a>
            </nav>
            <div class="icons">
                <!-- Ikonat për përdoruesin dhe karrocën -->
                <i class="bx bxs-user" id="user-btn"></i>
                <a href="wishlist.html" class="cart-btn"><i class="bx bx-heart"></i><sup id="wishlist-count">0</sup></a>
                <a href="cart.html" class="cart-btn"><i class="bx bx-cart-download"></i><sup id="cart-count">0</sup></a>
                <i class="bx bx-list-plus" id="menu-btn" style="font-size: 2rem;"></i>
            </div>
            <div class="user-box">
                <!-- Informacionet e përdoruesit -->
                <p>Username: <span></span></p>
                <p>Email: <span></span></p>
                <a href="login.html" class="btn">Login</a>
                <a href="register.html" class="btn">Register</a>
                <!-- Butoni për daljen nga llogaria -->
                <form method="post">
                    <button type="submit" name="logout" class="logout-btn">Log out</button>
                </form>
            </div>
        </div>
    </header>

    <!-- Seksioni kryesor -->
    <div class="main">
        <!-- Titulli dhe navigimi për kartën e besnikërisë -->
        <div class="tittle2">
            <a href="home.html">Home</a><span>Loyalty card</span>
        </div>
        <!-- Formati i regjistrimit për kartën e besnikërisë -->
        <div class="loyalty-card-section">
            <h2>Register for the Loyalty Card</h2>
            <p>Sign up and enjoy a 20% discount on your first two purchases at any of our stores!</p>
            <div class="form-container">
                <form id="registerForm">
                    <!-- Input për emrin e përdoruesit -->
                    <div class="input-field">
                        <p>YOUR NAME<span class="required-star">*</span></p>
                        <input type="text" id="first-name" required placeholder="Enter your name" maxlength="50"
                            oninput="this.value=this.value.replace(/\s/g, '')">
                    </div>
                    <!-- Input për mbiemrin e përdoruesit -->
                    <div class="input-field">
                        <p>YOUR SURNAME<span class="required-star">*</span></p>
                        <input type="text" id="last-name" required placeholder="Enter your surname" maxlength="50"
                            oninput="this.value=this.value.replace(/\s/g, '')">
                    </div>
                    <!-- Input për emailin e përdoruesit -->
                    <div class="input-field">
                        <p>YOUR EMAIL<span class="required-star">*</span></p>
                        <input type="email" id="email" required placeholder="Enter your email" maxlength="50"
                            oninput="this.value=this.value.replace(/\s/g, '')">
                    </div>
                    <!-- Input për numrin e telefonit të përdoruesit -->
                    <div class="input-field">
                        <p>YOUR PHONE NUMBER<span class="required-star">*</span></p>
                        <input type="tel" id="phone" required placeholder="Enter your phone number" maxlength="50"
                            oninput="this.value=this.value.replace(/\s/g, '')">
                    </div>
                    <!-- Butoni për regjistrim -->
                    <button type="submit" class="btn">Register now</button>
                </form>
            </div>
        </div>

        <!-- Seksioni për regjistrimin në buletinin e lajmeve -->
        <div class="top-footer">
            <h2 style="font-size: 25px; font-weight:bold;"><i class="bx bx-envelope"></i> Sign Up For Newsletter</h2>
            <div class="input-field-subscribe">
                <input type="email" id="emailInput" name="" placeholder="email address..." style="height: 38px;">
                <button class="btn" onclick="subscribeNewsletter()">Subscribe</button>
            </div>
        </div>

        <!-- Footer-i -->
        <footer>
            <div class="overlay"></div>
            <div class="footer-content">
                <div class="img-box">
                    <img src="img/logoo.png">
                </div>
                <div class="inner-footer">
                    <!-- Lidhjet për informacionin rreth kompanisë dhe shërbimeve -->
                    <div class="card">
                        <h3>about us</h3>
                        <ul>
                            <li>about us</li>
                            <li>our difference</li>
                            <li>community matters</li>
                            <li>press</li>
                            <li>blog</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>services</h3>
                        <ul>
                            <li>order</li>
                            <li>help center</li>
                            <li>shipping</li>
                            <li>term of use</li>
                            <li>account detail</li>
                            <li>my account</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>local</h3>
                        <ul>
                            <li>Sheshi "Nënë Tereza"</li>
                            <li>Albi Mall</li>
                            <li>Prishtina Mall</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>newsletter</h3>
                        <p>Sign Up For Newsletter</p>
                        <div class="social-links">
                            <a href="https://www.instagram.com/"><i class="bx bxl-instagram"></i></a>
                            <a href="https://www.facebook.com/"><i class="bx bxl-facebook"></i></a>
                            <a href="https://www.whatsapp.com/"><i class="bx bxl-whatsapp"></i></a>
                        </div>
                    </div>
                </div>
                <div class="bottom-footer">
                    <p>© 1990 - 2025 Libraria Buzuku. All Rights Reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Scripti për regjistrimin e përdoruesit -->
    <script>
        document.getElementById('registerForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Parandaloni dërgimin e formularit
            const firstName = document.getElementById('first-name').value;
            const lastName = document.getElementById('last-name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;

            // Kontrolloni nëse përdoruesi është regjistruar tashmë
            const existingUser = JSON.parse(localStorage.getItem('user'));
            if (existingUser && existingUser.email === email) {
                Swal.fire({
                    icon: 'info',
                    title: 'Registration Failed',
                    text: 'This email is already registered!',
                });
            } else {
                registerUser(firstName, lastName, email, phone);
                Swal.fire({
                    icon: 'success',
                    title: 'Registration Successful!',
                    text: 'Welcome to our loyalty program! You can now pick up your loyalty card at one of our stores and use it to earn discounts.',
                });
            }
        });

        function registerUser(firstName, lastName, email, phone) {
            const user = {
                firstName: firstName,
                lastName: lastName,
                email: email,
                phone: phone,
                purchases: 0 // Numri i përdorimeve të email-it
            };

            localStorage.setItem('user', JSON.stringify(user)); // Ruaj përdoruesin në localStorage
            console.log('Përdoruesi është regjistruar:', user);
        }
    </script>

    <!-- Lidhjet për skedarët e jashtëm JavaScript -->
    <script src="script.js"></script>
    <script src="gift-card.js" defer></script>
    <script src="count.js"></script>
</body>

</html>